---
import type { Post } from 'lib/interfaces'
import { filePath } from 'lib/blog-helpers'

export interface Props {
  post: Post
}

const { post } = Astro.props

let image = ''
if (post.FeaturedImage && post.FeaturedImage.Url) {
  if (import.meta.env.DEV) {
    image = post.FeaturedImage.Url
  } else {
    image = filePath(new URL(post.FeaturedImage.Url))
  }
}
---

{
  image ? (
    <img
      class="border border-slate-300 dark:border-zinc-700 rounded-xl aspect-[2.0] object-cover"
      src={image}
      width={720 * 2}
      height={720}
      alt="Thumbnail"
      loading="eager"
    />
  ) : (
    <img
      class="border border-slate-300 dark:border-zinc-700 rounded-xl aspect-[2.0] object-cover"
      src="/images/fallback.webp"
      width={720 * 2}
      height={720}
      alt="Thumbnail"
      loading="eager"
    />
  )
}
